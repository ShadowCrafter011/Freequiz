<div
    data-controller="notification"
    data-show="<%= flash.notice.present? || flash.alert.present? || true %>"
    class="absolute z-50 top-6 left-0 right-0 mx-auto rounded max-w-xl w-full border border-gray-300 divide-gray-300 divide-y bg-white transition-opacity opacity-0 pointer-events-none"
>
    <div class="w-full flex justify-between items-center py-1 px-2">
        <h4><strong>Freequiz</strong></h4>
        <svg
            xmlns="http://www.w3.org/2000/svg"
            data-action="click->notification#toggle"
            height="26px"
            class="fill-gray-500 hover:fill-black transition-colors cursor-pointer"
            viewBox="0 0 10 10"
            fill="none"
        >
            <path d="M 2 1 C 1 0 0 1 1 2 L 8 9 C 9 10 10 9 9 8 Z" />
            <path d="M 8 1 C 9 0 10 1 9 2 L 2 9 C 1 10 0 9 1 8 Z" />
        </svg>
    </div>
    <% flash.each do |type, messages| %>
        <% if messages.kind_of?(Array) %>
            <% messages.each do |message| %>
                <%= render partial: "layouts/notification_message", locals: { type:, message: } %>
            <% end %>
        <% else %>
            <%= render partial: "layouts/notification_message", locals: { type:, message: messages } %>
        <% end %>
    <% end %>
    <div data-notification-target="progress" class="rounded border-none bg-green-500 h-1 transition-transform -translate-x-1/2 scale-x-0 duration-[10000ms] ease-linear"></div>
</div>