<!DOCTYPE html>
<html>
  <head>
    <title><%= yield(:title).present? ? yield(:title) : "Freequiz - Karteien lernen, gratis fÃ¼r immer" %></title>
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <%= csrf_meta_tags %>
    <%= csp_meta_tag %>

    <%= favicon_link_tag "freequiz/freequiz_logo.png" %>

    <%= stylesheet_link_tag "application", "data-turbo-track": "reload" %>

    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-Zenh87qX5JnK2Jl0vWa8Ck2rdkQ2Bzep5IDxbcnCeuOxjzrPF/et3URy9Bv1WTRi" crossorigin="anonymous">

    <style>
      @media (min-width: 1500px) {
        .notification {
          width: 33%;
        }
      }
      @media (min-width: 1200px) and (max-width: 1500px) {
        .notification {
          width: 45%;
        }
      }
      @media (min-width: 500px) and (max-width: 1200px) {
        .notification {
          width: 60%;
        }
      }
      @media (max-width: 500px) {
        .notification {
          width: 100%;
        }
      }
    </style>

    <% unless yield(:turbo).present? %>
      <%= javascript_include_tag "turbo", type: "module" %>
    <% end %>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.2/dist/js/bootstrap.bundle.min.js" integrity="sha384-OERcA2EqjJCMA+/3y+gxIOqMEjwtxJY7qPCqsdltbNJuaOe923+mo//f6V8Qbsw3" crossorigin="anonymous" defer></script>
    <%= javascript_include_tag "application", defer: "defer" %>
  </head>

  <body>
    <div class="position-fixed w-100 d-flex justify-content-center pe-none" z-index="2000">
      <div id="notification" class="toast notification m-2 bg-white" role="alert" data-bs-autohide="false" aria-live="assertive" aria-atomic="true">
        <div class="toast-header">
          <%= image_tag "freequiz/freequiz_logo.png", width: 50, height: 50, class: "m-1" %>
          <strong class="fs-1 me-auto">Freequiz</strong>
          <button type="button" class="btn btn-lg btn-close mx-1" data-bs-dismiss="toast" aria-label="close"></button>
        </div>

        <% messages = 0 %>
        <div id="notifications_body" class="toast-body">

          <% if (success_msgs = success) %>
            <% messages += 1 %>
            <% for s in success_msgs do %>
              <div class="text-success fs-4"><%= s %></div>
              <% unless success_msgs.index(s) == success_msgs.length - 1 %><hr><% end %>
            <% end %>
          <% end %>

          <% if (alert_msgs = alert) %>
            <% if messages > 0 %><hr><% end %>
            <% messages += 1 %>
            <% for a in alert_msgs do %>
              <div class="text-danger fs-4"><%= a %></div>
              <% unless alert_msgs.index(a) == alert_msgs.length - 1 %><hr><% end %>
            <% end %>
          <% end %>

          <% if (notice_msgs = notice) %>
            <% if messages > 0 %><hr><% end %>
            <% for n in notice_msgs do %>
              <div class="text-body fs-4"><%= n %></div>
              <% unless notice_msgs.index(n) == notice_msgs.length - 1 %><hr><% end %>
            <% end %>
          <% end %>

        </div>
        <% if messages > 0 %>
          <div id="display_notifications"></div>
        <% end %>


      </div>
    </div>
    
    <%= yield %>
  </body>
</html>
