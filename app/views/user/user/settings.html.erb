<h1><%= tp("settings") %></h1>

<%= form_with url: user_settings_path, model: @user.setting do |form| %>
    <div class="flex justify-center">
        <div class="grow max-w-3xl divide-y dark:divide-gray-800">
            <div class="flex justify-between items-center py-2">
                <%= form.label :select, tp("language") %>
                <div class="flex items-center gap-2">
                    <%= image_tag "flags/#{@user.setting.locale}", class: "h-6 rounded" %>
                    <%= form.select :locale, Setting::LOCALES.map { |l| [tg("languages.#{l}"), l] }, {}, { class: "rounded border-none focus:ring-0 cursor-pointer hover:bg-gray-100 dark:bg-gray-900 dark:hover:bg-gray-800" } %>
                </div>
            </div>

            <div class="flex justify-between items-center py-2">
                <%= form.label :dark_mode, tg("settings.dark_mode") %>
                <%= form.check_box :dark_mode, class: "switch" %>
            </div>

            <% %i[cards_amount multi_amount write_amount].each do |key| %>
                <div class="flex justify-between items-center py-2">
                    <div>
                        <%= tg "settings.#{key}" %>
                    </div>
                    <%= form.number_field key, min: 1, max: 3, class: "dark:bg-gray-900 focus:ring-teal-700 focus:border-teal-700 dark:border-gray-700 border-gray-300 rounded" %>
                </div>
            <% end %>
        </div>
    </div>
    <div class="flex justify-center my-2">
        <%= form.submit value: tp("save"), class: "btn-success" %>
    </div>
<% end %>
